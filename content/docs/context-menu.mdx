---
title: Context Menu
description: A context menu component that appears on right-click with full keyboard navigation and submenu support
---

import {
  ContextMenu,
  ContextMenuTrigger,
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuSeparator,
  ContextMenuSub,
  ContextMenuSubTrigger,
  ContextMenuSubContent,
} from '@/app/components/ui/context-menu';
import { 
  BasicContextMenuDemo,
  ContextMenuWithSeparatorDemo,
  ContextMenuWithSubmenuDemo,
  DisabledContextMenuDemo,
  FileContextMenuDemo
} from '@/app/components/ui/context-menu/context-menu-demos';
import { DocsTabs, DocsTab } from "@/app/components/ui/docs-tab"

## Installation

Install the Context Menu component using the nocta-ui CLI:

```bash lineNumbers title="Terminal"
npx nocta-ui add context-menu
```

Then import the component:

```tsx lineNumbers title="Import"
import { 
  ContextMenu, 
  ContextMenuTrigger, 
  ContextMenuContent,
  ContextMenuItem,
  ContextMenuSeparator
} from '@/components/ui/context-menu';
```

## Basic Usage

### Simple Context Menu

<DocsTabs defaultValue="preview">
  <DocsTab value="preview" lineNumbers title="Preview">
    <BasicContextMenuDemo />
  </DocsTab>
  <DocsTab value="code" lineNumbers title="Code">
    ```tsx lineNumbers title="Simple Context Menu"
    const [lastAction, setLastAction] = useState('');

    return (
      <ContextMenu>
        <ContextMenuTrigger>
          <div className="w-full h-32 border border-dashed rounded-lg flex items-center justify-center cursor-context-menu">
            <span>Right-click here</span>
          </div>
        </ContextMenuTrigger>
        <ContextMenuContent>
          <ContextMenuItem onClick={() => setLastAction('Cut')}>
            <CutIcon className="w-4 h-4 mr-2" />
            Cut
          </ContextMenuItem>
          <ContextMenuItem onClick={() => setLastAction('Copy')}>
            <CopyIcon className="w-4 h-4 mr-2" />
            Copy
          </ContextMenuItem>
          <ContextMenuItem onClick={() => setLastAction('Paste')}>
            <PasteIcon className="w-4 h-4 mr-2" />
            Paste
          </ContextMenuItem>
        </ContextMenuContent>
      </ContextMenu>
    );
    ```
  </DocsTab>
</DocsTabs>

## With Separators

Use `ContextMenuSeparator` to group related menu items.

<DocsTabs defaultValue="preview">
  <DocsTab value="preview" lineNumbers title="Preview">
    <ContextMenuWithSeparatorDemo />
  </DocsTab>
  <DocsTab value="code" lineNumbers title="Code">
    ```tsx lineNumbers title="Context Menu with Separators"
    <ContextMenu>
      <ContextMenuTrigger>
        <div className="w-full h-32 border border-dashed rounded-lg flex items-center justify-center cursor-context-menu">
          <span>Right-click for menu with separators</span>
        </div>
      </ContextMenuTrigger>
      <ContextMenuContent>
        <ContextMenuItem>
          <EditIcon className="w-4 h-4 mr-2" />
          Edit
        </ContextMenuItem>
        <ContextMenuItem>
          <DuplicateIcon className="w-4 h-4 mr-2" />
          Duplicate
        </ContextMenuItem>
        
        <ContextMenuSeparator />
        
        <ContextMenuItem>
          <BookmarkIcon className="w-4 h-4 mr-2" />
          Bookmark
        </ContextMenuItem>
        <ContextMenuItem>
          <ShareIcon className="w-4 h-4 mr-2" />
          Share
        </ContextMenuItem>
        
        <ContextMenuSeparator />
        
        <ContextMenuItem className="text-red-600">
          <DeleteIcon className="w-4 h-4 mr-2" />
          Delete
        </ContextMenuItem>
      </ContextMenuContent>
    </ContextMenu>
    ```
  </DocsTab>
</DocsTabs>

## With Submenu

Create nested menus using `ContextMenuSub`, `ContextMenuSubTrigger`, and `ContextMenuSubContent`.

<DocsTabs defaultValue="preview">
  <DocsTab value="preview" lineNumbers title="Preview">
    <ContextMenuWithSubmenuDemo />
  </DocsTab>
  <DocsTab value="code" lineNumbers title="Code">
    ```tsx lineNumbers title="Context Menu with Submenu"
    <ContextMenu>
      <ContextMenuTrigger>
        <div className="w-full h-32 border border-dashed rounded-lg flex items-center justify-center cursor-context-menu">
          <span>Right-click for submenu example</span>
        </div>
      </ContextMenuTrigger>
      <ContextMenuContent>
        <ContextMenuItem>
          <NewIcon className="w-4 h-4 mr-2" />
          New
        </ContextMenuItem>
        
        <ContextMenuSub>
          <ContextMenuSubTrigger>
            <ExportIcon className="w-4 h-4 mr-2" />
            Export As
          </ContextMenuSubTrigger>
          <ContextMenuSubContent>
            <ContextMenuItem>
              <PdfIcon className="w-4 h-4 mr-2" />
              PDF
            </ContextMenuItem>
            <ContextMenuItem>
              <ExcelIcon className="w-4 h-4 mr-2" />
              Excel
            </ContextMenuItem>
            <ContextMenuItem>
              <ImageIcon className="w-4 h-4 mr-2" />
              Image
            </ContextMenuItem>
          </ContextMenuSubContent>
        </ContextMenuSub>
        
        <ContextMenuSeparator />
        
        <ContextMenuItem>
          <SettingsIcon className="w-4 h-4 mr-2" />
          Settings
        </ContextMenuItem>
      </ContextMenuContent>
    </ContextMenu>
    ```
  </DocsTab>
</DocsTabs>

## Disabled State

Both the entire context menu and individual items can be disabled.

<DocsTabs defaultValue="preview">
  <DocsTab value="preview" lineNumbers title="Preview">
    <DisabledContextMenuDemo />
  </DocsTab>
  <DocsTab value="code" lineNumbers title="Code">
    ```tsx lineNumbers title="Disabled Context Menu"
    {/* Disabled context menu */}
    <ContextMenu>
      <ContextMenuTrigger disabled>
        <div className="w-full h-24 border border-dashed rounded-lg flex items-center justify-center opacity-50">
          <span>Context menu disabled</span>
        </div>
      </ContextMenuTrigger>
      <ContextMenuContent>
        <ContextMenuItem>This won't show</ContextMenuItem>
      </ContextMenuContent>
    </ContextMenu>

    {/* Disabled menu items */}
    <ContextMenu>
      <ContextMenuTrigger>
        <div className="w-full h-24 border border-dashed rounded-lg flex items-center justify-center cursor-context-menu">
          <span>Some items disabled</span>
        </div>
      </ContextMenuTrigger>
      <ContextMenuContent>
        <ContextMenuItem>Available Item</ContextMenuItem>
        <ContextMenuItem disabled>Disabled Item</ContextMenuItem>
        <ContextMenuSeparator />
        <ContextMenuItem>Another Available Item</ContextMenuItem>
        <ContextMenuItem disabled>Another Disabled Item</ContextMenuItem>
      </ContextMenuContent>
    </ContextMenu>
    ```
  </DocsTab>
</DocsTabs>

## File Manager Example

A real-world example showing a file manager with context menus.

<DocsTabs defaultValue="preview">
  <DocsTab value="preview" lineNumbers title="Preview">
    <FileContextMenuDemo />
  </DocsTab>
  <DocsTab value="code" lineNumbers title="Code">
    ```tsx lineNumbers title="File Manager Context Menu"
    const files = [
      { name: 'document.pdf', type: 'pdf', size: '2.4 MB' },
      { name: 'image.jpg', type: 'image', size: '1.8 MB' },
      { name: 'project.zip', type: 'archive', size: '15.2 MB' },
    ];

    return (
      <div className="space-y-2">
        {files.map((file, index) => (
          <ContextMenu key={index}>
            <ContextMenuTrigger>
              <div className="flex items-center gap-3 p-3 border rounded-lg bg-white hover:bg-nocta-50 cursor-context-menu">
                <FileIcon type={file.type} className="w-5 h-5" />
                <div className="flex-1 min-w-0">
                  <div className="text-sm font-medium truncate">
                    {file.name}
                  </div>
                  <div className="text-xs text-nocta-500">
                    {file.size}
                  </div>
                </div>
              </div>
            </ContextMenuTrigger>
            <ContextMenuContent>
              <ContextMenuItem>
                <OpenIcon className="w-4 h-4 mr-2" />
                Open
              </ContextMenuItem>
              <ContextMenuItem>
                <RenameIcon className="w-4 h-4 mr-2" />
                Rename
              </ContextMenuItem>
              <ContextMenuSeparator />
              <ContextMenuItem>
                <CopyIcon className="w-4 h-4 mr-2" />
                Copy
              </ContextMenuItem>
              <ContextMenuItem>
                <ShareIcon className="w-4 h-4 mr-2" />
                Share
              </ContextMenuItem>
              <ContextMenuSeparator />
              <ContextMenuItem>
                <PropertiesIcon className="w-4 h-4 mr-2" />
                Properties
              </ContextMenuItem>
            </ContextMenuContent>
          </ContextMenu>
        ))}
      </div>
    );
    ```
  </DocsTab>
</DocsTabs>

## Positioning

The context menu automatically positions itself relative to the cursor position and avoids viewport collisions.

```tsx
<ContextMenuContent
  side="bottom"        // 'top' | 'right' | 'bottom' | 'left'
  align="start"        // 'start' | 'center' | 'end'
  sideOffset={4}       // Distance from cursor
  alignOffset={0}      // Alignment offset
  avoidCollisions={true} // Prevent viewport overflow
>
  {/* Menu items */}
</ContextMenuContent>
```

## Keyboard Navigation

The Context Menu component supports full keyboard navigation:

- **Right-click**: Open context menu
- **Arrow Keys**: Navigate between menu items
- **Enter**: Activate selected item
- **Escape**: Close menu
- **Tab**: Navigate through focusable elements
- **Home/End**: Jump to first/last item

## Accessibility

The Context Menu component is built with accessibility in mind:

- **ARIA Attributes**: Proper `role="menu"`, `aria-expanded`, `aria-haspopup`
- **Keyboard Navigation**: Full keyboard support with arrow keys
- **Focus Management**: Proper focus handling and restoration
- **Screen Reader Support**: Announces menu state and items
- **Portal Rendering**: Renders outside component tree to avoid z-index issues

## Props

### ContextMenu

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `React.ReactNode` | — | The trigger and content components |
| `className` | `string` | — | Additional CSS classes |

### ContextMenuTrigger

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `React.ReactNode` | — | Content that triggers the menu on right-click |
| `disabled` | `boolean` | `false` | Disable the context menu trigger |
| `className` | `string` | — | Additional CSS classes |

### ContextMenuContent

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `children` | `React.ReactNode` | — | Menu items and separators |
| `side` | `'top' \| 'right' \| 'bottom' \| 'left'` | `'bottom'` | Preferred side relative to cursor |
| `align` | `'start' \| 'center' \| 'end'` | `'start'` | Alignment relative to cursor |
| `sideOffset` | `number` | `0` | Distance from cursor |
| `alignOffset` | `number` | `0` | Offset for alignment |
| `avoidCollisions` | `boolean` | `true` | Prevent viewport overflow |
| `onEscapeKeyDown` | `(event: KeyboardEvent) => void` | — | Escape key handler |
| `